# 指标体系使用指南

## 📋 概述

系统已经完整实现了指标管理与任务关联功能，包含了完整的汽车行业指标体系和竞品对标数据。

## 🎯 核心功能

### 1. 预置指标体系 (33个指标)

系统预置了汽车行业完整的指标体系，分为5大类别：

#### 性能指标 (10项)
- 续航里程 (PERF_RANGE)
- 0-100km/h加速时间 (PERF_ACCEL)
- 最高车速 (PERF_TOP_SPEED)
- 百公里能耗 (PERF_ENERGY_CONSUMPTION)
- 制动距离 (PERF_BRAKING)
- 电机最大功率 (PERF_MOTOR_POWER)
- 电机最大扭矩 (PERF_MOTOR_TORQUE)
- 爬坡度 (PERF_GRADIENT)
- 充电功率 (PERF_CHARGE_POWER)
- 30%-80%充电时间 (PERF_CHARGE_TIME)

#### 成本指标 (7项)
- 整车成本 (COST_VEHICLE)
- 电池包成本 (COST_BATTERY)
- 三电系统成本 (COST_POWERTRAIN)
- 电机成本 (COST_MOTOR)
- 电控成本 (COST_CONTROLLER)
- 车身成本 (COST_BODY)
- 底盘成本 (COST_CHASSIS)

#### 可靠性指标 (6项)
- 电池循环寿命 (RELI_BATTERY_LIFE)
- 整车故障率 (RELI_FAILURE_RATE)
- 电机MTBF (RELI_MOTOR_MTBF)
- 电池容量保持率 (RELI_BATTERY_RETENTION)
- 电控系统MTBF (RELI_CONTROLLER_MTBF)
- 高压系统绝缘电阻 (RELI_HV_INSULATION)

#### 安全指标 (7项)
- C-NCAP评分 (SAFE_CNCAP)
- 电池碰撞安全等级 (SAFE_BATTERY_CRASH)
- 热失控预警时间 (SAFE_THERMAL_WARNING)
- 主动安全评分 (SAFE_ADAS_SCORE)
- 正面碰撞得分 (SAFE_FRONTAL_IMPACT)
- 侧面碰撞得分 (SAFE_SIDE_IMPACT)
- 鞭打试验得分 (SAFE_WHIPLASH)

#### 合规性指标 (6项)
- CLTC工况续航 (COMP_CLTC_RANGE)
- 电磁兼容性等级 (COMP_EMC)
- WLTC工况续航 (COMP_WLTC_RANGE)
- 涉水深度 (COMP_WADING_DEPTH)
- 噪音水平 (COMP_NOISE_LEVEL)
- 排放积分 (COMP_NEV_CREDITS)

### 2. 竞品对标数据 (13个车型)

系统包含以下竞品的详细指标数据：

| 品牌 | 车型 | 配置 |
|------|------|------|
| 特斯拉 | Model 3 | 长续航全驱版 |
| 特斯拉 | Model Y | 长续航全驱版 |
| 比亚迪 | 海豹 | 700km长续航后驱版 |
| 比亚迪 | 汉EV | 冠军版605km尊贵型 |
| 蔚来 | ET5 | 75kWh标准续航版 |
| 蔚来 | ET7 | 100kWh长续航版 |
| 小鹏 | P7i | 702km超长续航智行版 |
| 小鹏 | G9 | 702km长续航PRO |
| 理想 | L7 | Air |
| 理想 | L9 | Max |
| 极氪 | 001 | WE版 |
| 极氪 | 007 | 智驾版 |
| 问界 | M7 | Plus增程版 |
| 智己 | LS6 | Max长续航智驾版 |
| 阿维塔 | 12 | 700超长续航版 |

## 🚀 使用流程

### 第一步：初始化项目指标体系

1. **进入项目仪表板**
   - 在项目管理中选择目标项目
   - 进入项目详情页面

2. **加载预置指标**
   - 在项目仪表板中找到"指标与权衡"卡片
   - 点击"加载预置指标体系"按钮
   - 查看指标预览（33个指标 + 13个竞品数据）
   - 确认初始化

3. **初始化完成**
   - 系统会自动创建所有预置指标
   - 导入所有竞品对标数据
   - 显示成功提示

### 第二步：查看和管理指标

1. **进入指标管理**
   - 点击顶部导航的"指标与权衡"
   - 选择"指标管理"选项卡

2. **浏览指标**
   - 查看指标列表（按类别、层级分组）
   - 使用搜索和筛选功能
   - 查看指标的目标值、当前值、完成度

3. **编辑指标**
   - 点击"编辑"按钮
   - 修改目标值、约束条件等
   - 保存更改

4. **创建新指标**
   - 点击"创建指标"按钮
   - 填写指标信息
   - 设置目标、约束、验证方法等

### 第三步：在任务中关联指标

1. **创建任务**
   - 进入"项目管理" → 选择项目 → "任务管理"选项卡
   - 点击"创建任务"按钮

2. **选择关联指标**
   - 在任务创建对话框中，找到"关联指标"部分
   - 浏览不同类别的指标（性能、成本、可靠性、安全、合规性）
   - 使用复选框选择需要关联的指标
   - 可以选择多个指标

3. **查看雷达图对比**
   - 切换到"雷达图对比"选项卡
   - 选择对比维度（性能、成本、可靠性等）
   - 查看项目目标与竞品的雷达图对比
   - 了解项目在各维度的竞争力

4. **完成任务创建**
   - 填写其他必填信息（任务名称、负责人、时间等）
   - 点击"创建任务"
   - 任务与指标的关联关系建立完成

### 第四步：任务执行与指标评估

1. **查看任务指标**
   - 在任务详情中可以看到关联的指标
   - 查看指标的目标值和当前状态

2. **提交任务成果**
   - 任务完成后提交成果
   - 系统会提示对关联指标进行评估

3. **指标评估**
   - 输入实际达成的指标值
   - 系统自动计算达成率
   - 更新指标的当前值和趋势

## 📊 高级功能

### 1. 雷达图可视化

- **多维度对比**：同时对比5-10个指标
- **归一化显示**：不同量纲的指标归一到0-100分制
- **竞品对标**：与多个竞品车型同时对比
- **动态切换**：快速切换不同维度（性能、成本等）

### 2. 指标追溯

- **RFLP分解**：指标与需求、功能、逻辑、物理架构的追溯
- **模型绑定**：指标与仿真模型参数的绑定
- **验证追溯**：指标与测试用例、验证证据的追溯

### 3. 权衡分析

- **多目标优化**：同时优化多个冲突指标
- **帕累托前沿**：寻找最优解集合
- **方案对比**：多个设计方案的量化对比

### 4. 设计空间探索 (DSE)

- **参数扫描**：系统化探索设计参数空间
- **灵敏度分析**：分析参数对指标的影响程度
- **优化算法**：使用遗传算法等智能优化方法

## 🔧 技术架构

### 数据文件
- `/data/presetMetrics.ts` - 预置指标和竞品数据定义

### 服务层
- `/services/MetricsService.ts` - 指标管理服务（CRUD、初始化、对比）

### UI组件
- `/components/metrics/MetricsManagement.tsx` - 指标管理主界面
- `/components/metrics/MetricSelector.tsx` - 任务创建时的指标选择器
- `/components/metrics/MetricRadarChart.tsx` - 雷达图可视化组件
- `/components/metrics/PresetMetricsInitializer.tsx` - 预置指标初始化器
- `/components/metrics/MetricEditor.tsx` - 指标编辑器
- `/components/metrics/BenchmarkComparison.tsx` - 竞品对比
- `/components/metrics/TradeStudyAnalysis.tsx` - 权衡分析
- `/components/metrics/DSEExplorer.tsx` - 设计空间探索

### 任务集成
- `/components/task/TaskCreationDialog.tsx` - 任务创建对话框（已集成指标选择）
- `/components/task/MetricAssessmentPanel.tsx` - 任务指标评估面板

## ✅ 已验证功能

- ✅ 33个完整的汽车行业指标定义
- ✅ 13个竞品车型的详细数据
- ✅ 指标的CRUD操作
- ✅ 预置指标一键初始化
- ✅ 任务创建时选择关联指标
- ✅ 雷达图可视化对比
- ✅ 指标按类别分组浏览
- ✅ 指标搜索和筛选
- ✅ 指标状态监控（达标/预警/不达标）
- ✅ 指标趋势分析
- ✅ 竞品对标数据管理

## 📝 使用示例

### 示例1：创建电池优化任务并关联指标

```
1. 进入项目 "新能源轿车项目A"
2. 点击 "任务管理" → "创建任务"
3. 填写任务信息：
   - 任务名称：电池包能量密度优化
   - 任务类型：设计
   - 负责人：张工程师
4. 在"关联指标"中选择：
   ✓ 续航里程 (目标: 600km)
   ✓ 百公里能耗 (目标: 13.5kWh)
   ✓ 电池包成本 (目标: 750元/kWh)
   ✓ 电池循环寿命 (目标: 2000次)
5. 切换到"雷达图对比"查看与竞品的差距
6. 创建任务
```

### 示例2：查看竞品对比

```
1. 进入 "指标与权衡" → "竞品对比"
2. 选择对比指标：
   - 续航里程
   - 0-100km/h加速
   - 整车成本
3. 选择竞品：
   - 特斯拉 Model 3
   - 比亚迪海豹
   - 蔚来 ET5
4. 查看雷达图和数据表格对比
5. 导出对比报告
```

## 🎓 最佳实践

1. **及时初始化指标**：在项目启动时就初始化预置指标体系
2. **合理选择关联指标**：每个任务关联3-5个核心指标即可
3. **定期更新指标值**：在任务完成时及时评估和更新指标
4. **利用雷达图**：使用雷达图直观了解项目与竞品的差距
5. **建立追溯关系**：将指标与需求、模型建立追溯关系
6. **权衡分析**：遇到冲突指标时使用权衡分析功能

## 🆘 常见问题

**Q: 如何为新项目添加指标？**
A: 在项目仪表板中点击"加载预置指标体系"，系统会自动为该项目创建所有预置指标。

**Q: 可以修改预置指标吗？**
A: 可以。进入"指标管理"，点击指标的"编辑"按钮即可修改目标值、约束等。

**Q: 如何添加自定义指标？**
A: 在"指标管理"中点击"创建指标"，手动填写指标信息即可。

**Q: 任务必须关联指标吗？**
A: 不是必须的，但建议关联核心指标以建立追溯关系。

**Q: 竞品数据从哪里来？**
A: 系统预置的竞品数据来自官方网站和公开测评，您也可以手动添加或修改。

**Q: 如何查看指标的历史趋势？**
A: 在指标详情页面可以查看历史数据和趋势图。

## 📞 技术支持

如有问题，请查阅：
- `/PRESET_METRICS_GUIDE.md` - 预置指标详细说明
- `/PRESET_METRICS_QUICK_START.md` - 快速开始指南
- `/TASK_MANAGEMENT_IMPLEMENTATION.md` - 任务管理实现文档
